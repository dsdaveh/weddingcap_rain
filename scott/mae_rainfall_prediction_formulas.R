# MAEs of rainfall prediction formulas

# the following is generated by dave/run_agg2.R
load("../train_agg2.RData")
# the following is generated by dave/KS_mpalmer.R
csv <- fread("../KS_mpalmer-train.csv")

# combine the external mpalmer into the training set
setkey(train_agg, "Id")
setkey(csv, "Id")
train_agg <- inner_join(train_agg, select(csv, Id, rr_mpalmer=Expected), by="Id")

# output MAEs of the rainfall prediction formulas
mae(train_agg$Expected, train_agg$rr_mpalmer) # 131.8956
mae(train_agg$Expected, train_agg$rr_Katsumata_ref) # 512.2561
mae(train_agg$Expected, train_agg$rr_refzdr) # NaN
mae(train_agg$Expected, train_agg$rr_kdpzdr) # Nan
mae(train_agg$Expected, train_agg$Kdp_rk) # 697.9479
mae(train_agg$Expected, train_agg$Ref_rz) # 512.0152

